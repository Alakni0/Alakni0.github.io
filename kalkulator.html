<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Kalkulator</title>

    <style>
        body {
            background-color: #e1f1fa;
            font-family: Arial, sans-serif;
            color: #033e63;
            text-align: center;

        }

        .kalkulator
        {
            width: 300px;
            margin: 50px auto;
            background: #ffffff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            border-radius: 10px;
            overflow: hidden;

        }

        .wyswietlacz
        {
            background: #333333;
            color: #ffffff;
            padding: 15px;
            font-size: 2em;
            text-align: right;
            border-radius: 10px 10px 0 0;
        }

        .wyswietlacz input
        {
            width: 100%;
            border: none;
            background: none;
            color: inherit;
            font-size: inherit;
            text-align: right;
            outline: none;
        }

        .przyciski
        {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2px;
            background: #ffffff;

        }

        .przyciski button
        {
            background: #f4f4f4;
            border: none;
            font-size: 1.5em;
            padding: 20px;
            cursor: pointer;
            transition: background 0.2s;
            width: 100%;
            height: 100%;
        }

        .przyciski button:hover {
            background: #e0e0e0;
        }

        .puste {
            visibility: hidden;
        }

        a {
            display: block;
            text-align: center;
            color: #005f8a;
            text-decoration: none;
            font-weight: bold;
            margin: 20px;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>
<h1>Kalkulator</h1>

<div class = "kalkulator">
    <div class = "wyswietlacz">
        <input type = "text" id ="wyswietlaczka" readonly>
    </div>
    <div class="przyciski">
        <button id = "C" onclick = "kalkulator('C')">C</button>
        <button id = "CE" onclick="kalkulator('CE')">CE</button>
        <button class = "puste"></button>
        <button id = "=" onclick = "kalkulator('=')">=</button>



        <button id ="7" onclick = "kalkulator('7')">7</button>
        <button id ="8" onclick = "kalkulator('8')">8</button>
        <button id ="9" onclick = "kalkulator('9')">9</button>
        <button id = "/" onclick = "kalkulator('/')">/</button>


        <button id = "4" onclick = "kalkulator('4')">4</button>
        <button id = "5" onclick = "kalkulator('5')">5</button>
        <button id = "6" onclick = "kalkulator('6')">6</button>
        <button id ="*" onclick = "kalkulator('*')">*</button>


        <button id = "1" onclick = "kalkulator('1')">1</button>
        <button id = "2" onclick = "kalkulator('2')">2</button>
        <button id = "3" onclick = "kalkulator('3')">3</button>
        <button id = "+" onclick = "kalkulator('+')">+</button>


        <button class = "puste"></button>
        <button id = "0" onclick = "kalkulator('0')">0</button>
        <button id = "." onclick = "kalkulator('.')">.</button>
        <button id = "-" onclick = "kalkulator('-')">-</button>
    </div>

</div>

<script>

    const ekran = document.getElementById("wyswietlaczka");

    function kalkulator( wartosc ) {

        const ostatni = ekran.value.slice(-1);
        const operatory = ['+', '-', '*', '/', '.'];
        const limit = 15;

        if (wartosc === "C")
        {
            ekran.value = "";
        }
        else if (wartosc === "CE")
        {
            ekran.value = ekran.value.slice(0, -1);
        }
        else if (wartosc === "=")
        {
            try
            {
                ekran.value = eval(ekran.value);
                if(ekran.value.length > limit)
                {
                    ekran.value = "Error"
                }
            }
            catch
            {
                ekran.value = "Error";
            }
        }
        else
        {
            if (ekran.value.length >= limit)
            {
                return;
            }

            if (operatory.includes(ostatni) && operatory.includes(wartosc))
            {
                ekran.value = ekran.value.slice(0, -1) + wartosc;
                return;
            }

            ekran.value += wartosc;
        }
    }
</script>

<p><a href="index.html">← Powrót do strony głównej</a></p>
</body>
</html>